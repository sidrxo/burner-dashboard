(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[152],{27737:(e,t,s)=>{"use strict";s.d(t,{E:()=>n});var r=s(95155),a=s(53999);function n(e){let{className:t,...s}=e;return(0,r.jsx)("div",{"data-slot":"skeleton",className:(0,a.cn)("bg-accent animate-pulse rounded-md",t),...s})}},41397:(e,t,s)=>{"use strict";s.d(t,{k:()=>i});var r=s(95155);s(12115);var a=s(55863),n=s(53999);function i(e){let{className:t,value:s,...i}=e;return(0,r.jsx)(a.bL,{"data-slot":"progress",className:(0,n.cn)("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",t),...i,children:(0,r.jsx)(a.C1,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:"translateX(-".concat(100-(s||0),"%)")}})})}},42424:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>z});var r=s(95155),a=s(93161),n=s(12115),i=s(35317),l=s(98915),d=s(54786),c=s(56671),o=s(88482),u=s(88145),x=s(41397),m=s(27737),h=s(88524),v=s(55868),f=s(61432),g=s(17580),p=s(69074),j=s(72713),b=s(33109),N=s(40646),w=s(54861),y=s(53999),k=s(83540),S=s(43913),A=s(94754),D=s(96025),R=s(16238),T=s(89498),I=s(71368);function E(){return(0,r.jsxs)("div",{className:"space-y-6 max-w-7xl mx-auto",children:[(0,r.jsx)(m.E,{className:"h-8 w-[200px]"}),(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[void 0,void 0,void 0,void 0].map((e,t)=>(0,r.jsxs)(o.Zp,{children:[(0,r.jsx)(o.aR,{className:"pb-2",children:(0,r.jsx)(m.E,{className:"h-4 w-[100px]"})}),(0,r.jsx)(o.Wu,{children:(0,r.jsx)(m.E,{className:"h-8 w-[80px]"})})]},t))}),(0,r.jsx)("div",{className:"grid grid-cols-1 gap-6",children:(0,r.jsxs)(o.Zp,{children:[(0,r.jsx)(o.aR,{children:(0,r.jsx)(m.E,{className:"h-6 w-[150px]"})}),(0,r.jsx)(o.Wu,{children:(0,r.jsx)(m.E,{className:"h-[300px]"})})]})})]})}function B(){return(0,r.jsxs)(o.Zp,{className:"max-w-md mx-auto mt-10",children:[(0,r.jsx)(o.aR,{children:(0,r.jsx)(o.ZB,{className:"text-center",children:"Access Denied"})}),(0,r.jsx)(o.Wu,{children:(0,r.jsx)("p",{className:"text-center text-muted-foreground",children:"You don't have permission to view the dashboard."})})]})}function Z(e){let{metrics:t,userRole:s}=e;return(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,r.jsxs)(o.Zp,{children:[(0,r.jsxs)(o.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,r.jsx)(o.ZB,{className:"text-sm font-medium",children:"Total Revenue"}),(0,r.jsx)(v.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,r.jsxs)(o.Wu,{children:[(0,r.jsx)("div",{className:"text-2xl font-bold text-primary",children:(0,y.vv)(t.totalRevenue)}),(0,r.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Avg per user: ",(0,y.vv)(t.avgRevenuePerUser)]})]})]}),(0,r.jsxs)(o.Zp,{children:[(0,r.jsxs)(o.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,r.jsx)(o.ZB,{className:"text-sm font-medium",children:"Tickets Sold"}),(0,r.jsx)(f.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,r.jsxs)(o.Wu,{children:[(0,r.jsx)("div",{className:"text-2xl font-bold",children:t.totalTickets.toLocaleString()}),(0,r.jsxs)("p",{className:"text-xs text-muted-foreground",children:[t.usedTickets," used (",t.usageRate.toFixed(1),"%)"]})]})]}),(0,r.jsxs)(o.Zp,{children:[(0,r.jsxs)(o.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,r.jsx)(o.ZB,{className:"text-sm font-medium",children:"Total Users"}),(0,r.jsx)(g.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,r.jsxs)(o.Wu,{children:[(0,r.jsx)("div",{className:"text-2xl font-bold",children:t.totalUsers.toLocaleString()}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:"siteAdmin"===s?"Active customers":"Your venue customers"})]})]}),(0,r.jsxs)(o.Zp,{children:[(0,r.jsxs)(o.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,r.jsx)(o.ZB,{className:"text-sm font-medium",children:"Events"}),(0,r.jsx)(p.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,r.jsxs)(o.Wu,{children:[(0,r.jsx)("div",{className:"text-2xl font-bold",children:0}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:"siteAdmin"===s?"Total events created":"Your venue events"})]})]})]})}function C(e){let{dailySales:t,userRole:s}=e;return(0,r.jsxs)(o.Zp,{children:[(0,r.jsx)(o.aR,{children:(0,r.jsx)("div",{className:"flex items-center justify-between",children:(0,r.jsxs)("div",{children:[(0,r.jsxs)(o.ZB,{className:"flex items-center gap-2",children:[(0,r.jsx)(j.A,{className:"h-5 w-5"}),"Daily Ticket Sales"]}),(0,r.jsx)(o.BT,{children:"siteAdmin"===s?"Ticket sales over the last 90 days across all venues":"Ticket sales for your venue over the last 90 days"})]})})}),(0,r.jsx)(o.Wu,{children:(0,r.jsx)("div",{className:"h-[300px] w-full",children:(0,r.jsx)(k.u,{width:"100%",height:"100%",children:(0,r.jsxs)(S.E,{data:t,margin:{top:20,right:30,left:20,bottom:5},barCategoryGap:"10%",children:[(0,r.jsx)(A.d,{strokeDasharray:"3 3",className:"stroke-muted"}),(0,r.jsx)(D.W,{dataKey:"date",className:"text-xs fill-muted-foreground",tick:{fontSize:12}}),(0,r.jsx)(R.h,{className:"text-xs fill-muted-foreground",tick:{fontSize:12}}),(0,r.jsx)(T.m,{contentStyle:{backgroundColor:"white",border:"none",borderRadius:"8px",color:"black",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)"},content:e=>{let{active:t,payload:s,label:a}=e;if(t&&s&&s.length>0){let e=s[0].value;return 0===e?null:(0,r.jsxs)("div",{style:{backgroundColor:"white",border:"none",borderRadius:"8px",color:"black",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",padding:"8px 12px"},children:[(0,r.jsx)("p",{style:{color:"black",fontWeight:"500",margin:0},children:a}),(0,r.jsx)("p",{style:{color:"black",margin:0},children:"".concat(e," tickets")})]})}return null}}),(0,r.jsx)(I.y,{dataKey:"tickets",fill:"#bb86fc",radius:[2,2,0,0],name:"tickets",maxBarSize:8})]})})})})]})}function U(e){let{eventStats:t,userRole:s}=e;return(0,r.jsxs)(o.Zp,{children:[(0,r.jsxs)(o.aR,{children:[(0,r.jsx)(o.ZB,{children:"Event Performance"}),(0,r.jsx)(o.BT,{children:"siteAdmin"===s?"Revenue and ticket sales by event across all venues":"Revenue and ticket sales for your venue events"})]}),(0,r.jsx)(o.Wu,{children:t.length>0?(0,r.jsxs)(h.XI,{children:[(0,r.jsx)(h.A0,{children:(0,r.jsxs)(h.Hj,{children:[(0,r.jsx)(h.nd,{children:"Event Name"}),(0,r.jsx)(h.nd,{className:"text-right",children:"Tickets Sold"}),(0,r.jsx)(h.nd,{className:"text-right",children:"Revenue"}),(0,r.jsx)(h.nd,{className:"text-right",children:"Usage Rate"}),(0,r.jsx)(h.nd,{className:"text-right",children:"Status"})]})}),(0,r.jsx)(h.BF,{children:t.slice(0,10).map((e,t)=>{let s=e.usedTickets/e.ticketCount*100;return(0,r.jsxs)(h.Hj,{children:[(0,r.jsx)(h.nA,{className:"font-medium",children:e.eventName}),(0,r.jsx)(h.nA,{className:"text-right",children:e.ticketCount}),(0,r.jsx)(h.nA,{className:"text-right",children:(0,y.vv)(e.revenue)}),(0,r.jsxs)(h.nA,{className:"text-right",children:[s.toFixed(1),"%"]}),(0,r.jsx)(h.nA,{className:"text-right",children:(0,r.jsx)(u.E,{variant:t<3?"default":"secondary",children:t<3?"Top Performer":"Active"})})]},"".concat(e.eventName,"-").concat(t))})})]}):(0,r.jsx)("div",{className:"text-center py-6 text-muted-foreground",children:"siteAdmin"===s?"No events found across any venues":"No events found for your venue"})})]})}function W(e){let{metrics:t,userRole:s}=e;return(0,r.jsxs)(o.Zp,{children:[(0,r.jsxs)(o.aR,{children:[(0,r.jsxs)(o.ZB,{className:"flex items-center gap-2",children:[(0,r.jsx)(b.A,{className:"h-5 w-5"}),"Ticket Usage Rate"]}),(0,r.jsx)(o.BT,{children:"siteAdmin"===s?"Overall ticket utilization across all events":"Ticket utilization for your venue events"})]}),(0,r.jsxs)(o.Wu,{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("span",{className:"text-sm font-medium",children:"Used Tickets"}),(0,r.jsxs)("span",{className:"text-sm text-muted-foreground",children:[t.usedTickets," / ",t.totalTickets]})]}),(0,r.jsx)(x.k,{value:t.usageRate,className:"h-2"}),(0,r.jsxs)("div",{className:"flex items-center gap-4 text-sm",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(N.A,{className:"h-4 w-4 text-green-500"}),(0,r.jsxs)("span",{children:["Used: ",t.usedTickets]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(w.A,{className:"h-4 w-4 text-red-500"}),(0,r.jsxs)("span",{children:["Unused: ",t.totalTickets-t.usedTickets]})]})]})]})]})}function F(){let{user:e,authLoading:t,loading:s,eventStats:a,dailySales:o,metrics:u}=function(){let{user:e,loading:t}=(0,d.A)(),[s,r]=(0,n.useState)([]),[a,o]=(0,n.useState)([]),[u,x]=(0,n.useState)([]),[m,h]=(0,n.useState)([]),[v,f]=(0,n.useState)(!0);async function g(){if(e){f(!0);try{let t=[];if("siteAdmin"===e.role)t=(await (0,i.GG)((0,i.Cs)(l.db,"tickets"))).docs.map(e=>({id:e.id,...e.data()}));else{if("venueAdmin"!==e.role&&"subAdmin"!==e.role)return void f(!1);if(!e.venueId){c.oR.error("No venue assigned to your account"),f(!1);return}t=(await (0,i.GG)((0,i.Cs)(l.db,"tickets"))).docs.map(e=>({id:e.id,...e.data()})).filter(t=>t.venueId===e.venueId)}r(t),function(e){let t={};e.forEach(e=>{t[e.userID]||(t[e.userID]={userID:e.userID,email:e.userEmail||"Unknown",ticketCount:0,totalSpent:0,events:[]});let s=t[e.userID];s.ticketCount++,s.totalSpent+=e.ticketPrice||0,e.eventName&&!s.events.includes(e.eventName)&&s.events.push(e.eventName)}),o(Object.values(t))}(t),function(e){let t={};e.forEach(e=>{t[e.eventName]||(t[e.eventName]={eventName:e.eventName,ticketCount:0,revenue:0,usedTickets:0});let s=t[e.eventName];s.ticketCount++,s.revenue+=e.ticketPrice||0,e.isUsed&&s.usedTickets++}),x(Object.values(t).sort((e,t)=>t.revenue-e.revenue))}(t),function(e){let t={},s=new Date;for(let e=0;e<90;e++){let r=new Date(s);r.setDate(r.getDate()-e);let a=r.toISOString().split("T")[0];t[a]={date:a,tickets:0,revenue:0}}e.forEach(e=>{if(e.purchaseDate){let s=(e.purchaseDate.toDate?e.purchaseDate.toDate():e.purchaseDate instanceof Date?e.purchaseDate:new Date(e.purchaseDate)).toISOString().split("T")[0];t[s]&&(t[s].tickets++,t[s].revenue+=e.ticketPrice||0)}}),h(Object.values(t).sort((e,t)=>new Date(e.date).getTime()-new Date(t.date).getTime()).map(e=>({...e,date:new Date(e.date).toLocaleDateString("en-US",{month:"short",day:"numeric"})})))}(t)}catch(e){c.oR.error("Failed to load overview: "+e.message)}finally{f(!1)}}}(0,n.useEffect)(()=>{!t&&e&&g()},[e,t]);let p={totalTickets:s.length,totalUsers:a.length,totalRevenue:a.reduce((e,t)=>e+t.totalSpent,0),usedTickets:s.filter(e=>e.isUsed).length,usageRate:s.length>0?s.filter(e=>e.isUsed).length/s.length*100:0,avgRevenuePerUser:a.length>0?a.reduce((e,t)=>e+t.totalSpent,0)/a.length:0};return{user:e,authLoading:t,loading:v,tickets:s,users:a,eventStats:u,dailySales:m,metrics:p}}();return t?(0,r.jsx)("div",{className:"flex items-center justify-center min-h-[400px]",children:(0,r.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):e&&("siteAdmin"===e.role||"venueAdmin"===e.role||"subAdmin"===e.role)?s?(0,r.jsx)(E,{}):(0,r.jsxs)("div",{className:"space-y-6 max-w-7xl mx-auto",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"Overview"}),(0,r.jsx)(Z,{metrics:u,userRole:e.role}),(0,r.jsx)(C,{dailySales:o,userRole:e.role}),(0,r.jsx)(U,{eventStats:a,userRole:e.role}),(0,r.jsx)(W,{metrics:u,userRole:e.role})]}):(0,r.jsx)(B,{})}function z(){return(0,r.jsx)(a.A,{children:(0,r.jsx)(F,{})})}},53999:(e,t,s)=>{"use strict";s.d(t,{JP:()=>l,cn:()=>n,vv:()=>i});var r=s(52596),a=s(39688);function n(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,a.QP)((0,r.$)(t))}function i(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GBP",s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"en-GB";return new Intl.NumberFormat(s,{style:"currency",currency:t}).format(e||0)}function l(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en-GB";if(!e)return"N/A";try{let s=e.toDate?e.toDate():new Date(e);if(isNaN(s.getTime()))return"-";return new Intl.DateTimeFormat(t,{dateStyle:"medium",timeStyle:"short"}).format(s)}catch(e){return"-"}}},54786:(e,t,s)=>{"use strict";s.d(t,{A:()=>o,O:()=>c});var r=s(95155),a=s(12115),n=s(45404),i=s(35317),l=s(98915);let d=(0,a.createContext)({user:null,loading:!0});function c(e){let{children:t}=e,[s,c]=(0,a.useState)(null),[o,u]=(0,a.useState)(!0);return(0,a.useEffect)(()=>{let e=(0,n.hg)(l.j,async e=>{if(e)try{let t=await (0,i.x7)((0,i.H9)(l.db,"admins",e.uid));if(t.exists()){let s=t.data();c({uid:e.uid,email:e.email,role:s.role,venueId:s.venueId||null})}else{let t=await (0,i.x7)((0,i.H9)(l.db,"users",e.uid));if(t.exists()){let s=t.data();c({uid:e.uid,email:e.email,role:s.role||"user",venueId:s.venueId||null})}else c({uid:e.uid,email:e.email,role:"user",venueId:null})}}catch(t){console.error("Failed to fetch user doc:",t),c({uid:e.uid,email:e.email,role:"user",venueId:null})}else c(null);u(!1)});return()=>e()},[]),(0,r.jsx)(d.Provider,{value:{user:s,loading:o},children:t})}function o(){return(0,a.useContext)(d)}},77733:(e,t,s)=>{Promise.resolve().then(s.bind(s,42424))},82714:(e,t,s)=>{"use strict";s.d(t,{J:()=>i});var r=s(95155);s(12115);var a=s(40968),n=s(53999);function i(e){let{className:t,...s}=e;return(0,r.jsx)(a.b,{"data-slot":"label",className:(0,n.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...s})}},88145:(e,t,s)=>{"use strict";s.d(t,{E:()=>d});var r=s(95155);s(12115);var a=s(99708),n=s(74466),i=s(53999);let l=(0,n.F)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function d(e){let{className:t,variant:s,asChild:n=!1,...d}=e,c=n?a.DX:"span";return(0,r.jsx)(c,{"data-slot":"badge",className:(0,i.cn)(l({variant:s}),t),...d})}},88482:(e,t,s)=>{"use strict";s.d(t,{BT:()=>d,Wu:()=>c,ZB:()=>l,Zp:()=>n,aR:()=>i,wL:()=>o});var r=s(95155);s(12115);var a=s(53999);function n(e){let{className:t,...s}=e;return(0,r.jsx)("div",{"data-slot":"card",className:(0,a.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",t),...s})}function i(e){let{className:t,...s}=e;return(0,r.jsx)("div",{"data-slot":"card-header",className:(0,a.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...s})}function l(e){let{className:t,...s}=e;return(0,r.jsx)("div",{"data-slot":"card-title",className:(0,a.cn)("leading-none font-semibold",t),...s})}function d(e){let{className:t,...s}=e;return(0,r.jsx)("div",{"data-slot":"card-description",className:(0,a.cn)("text-muted-foreground text-sm",t),...s})}function c(e){let{className:t,...s}=e;return(0,r.jsx)("div",{"data-slot":"card-content",className:(0,a.cn)("px-6",t),...s})}function o(e){let{className:t,...s}=e;return(0,r.jsx)("div",{"data-slot":"card-footer",className:(0,a.cn)("flex items-center px-6 [.border-t]:pt-6",t),...s})}},88524:(e,t,s)=>{"use strict";s.d(t,{A0:()=>i,BF:()=>l,Hj:()=>d,XI:()=>n,nA:()=>o,nd:()=>c});var r=s(95155);s(12115);var a=s(53999);function n(e){let{className:t,...s}=e;return(0,r.jsx)("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:(0,r.jsx)("table",{"data-slot":"table",className:(0,a.cn)("w-full caption-bottom text-sm",t),...s})})}function i(e){let{className:t,...s}=e;return(0,r.jsx)("thead",{"data-slot":"table-header",className:(0,a.cn)("[&_tr]:border-b",t),...s})}function l(e){let{className:t,...s}=e;return(0,r.jsx)("tbody",{"data-slot":"table-body",className:(0,a.cn)("[&_tr:last-child]:border-0",t),...s})}function d(e){let{className:t,...s}=e;return(0,r.jsx)("tr",{"data-slot":"table-row",className:(0,a.cn)("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",t),...s})}function c(e){let{className:t,...s}=e;return(0,r.jsx)("th",{"data-slot":"table-head",className:(0,a.cn)("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...s})}function o(e){let{className:t,...s}=e;return(0,r.jsx)("td",{"data-slot":"table-cell",className:(0,a.cn)("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...s})}},89852:(e,t,s)=>{"use strict";s.d(t,{p:()=>n});var r=s(95155);s(12115);var a=s(53999);function n(e){let{className:t,type:s,...n}=e;return(0,r.jsx)("input",{type:s,"data-slot":"input",className:(0,a.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...n})}},93161:(e,t,s)=>{"use strict";s.d(t,{A:()=>v});var r=s(95155),a=s(12115),n=s(45404),i=s(98915),l=s(53999),d=s(97168),c=s(88482),o=s(89852),u=s(82714),x=s(56671),m=s(35695);function h(e){let{className:t,...s}=e,[h,v]=(0,a.useState)(""),[f,g]=(0,a.useState)(""),[p,j]=(0,a.useState)(!1),b=(0,m.useRouter)(),N=async e=>{e.preventDefault(),j(!0);try{await (0,n.x9)(i.j,h,f),b.push("/overview")}catch(e){x.oR.error(e.message||"Login failed")}finally{j(!1)}};return(0,r.jsx)("div",{className:(0,l.cn)("flex flex-col gap-6",t),...s,children:(0,r.jsxs)(c.Zp,{children:[(0,r.jsxs)(c.aR,{children:[(0,r.jsx)(c.ZB,{children:"Login to your account"}),(0,r.jsx)(c.BT,{children:"Enter your email and password below"})]}),(0,r.jsx)(c.Wu,{children:(0,r.jsx)("form",{onSubmit:N,children:(0,r.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,r.jsxs)("div",{className:"grid gap-3",children:[(0,r.jsx)(u.J,{htmlFor:"email",children:"Email"}),(0,r.jsx)(o.p,{id:"email",type:"email",placeholder:"m@example.com",value:h,onChange:e=>v(e.target.value),required:!0})]}),(0,r.jsxs)("div",{className:"grid gap-3",children:[(0,r.jsx)(u.J,{htmlFor:"password",children:"Password"}),(0,r.jsx)(o.p,{id:"password",type:"password",value:f,onChange:e=>g(e.target.value),required:!0})]}),(0,r.jsx)("div",{className:"flex flex-col gap-3",children:(0,r.jsx)(d.$,{type:"submit",className:"w-full",disabled:p,children:p?"Logging in...":"Login"})})]})})})]})})}function v(e){let{children:t}=e,[s,l]=(0,a.useState)(null),[d,c]=(0,a.useState)(!0);return((0,a.useEffect)(()=>(0,n.hg)(i.j,e=>{l(e),c(!1)}),[]),d)?(0,r.jsx)("div",{className:"flex justify-center items-center min-h-screen",children:"Loading..."}):s?(0,r.jsx)(r.Fragment,{children:t}):(0,r.jsx)("div",{className:"flex justify-center items-center min-h-screen bg-background",children:(0,r.jsx)("div",{className:"w-full max-w-sm p-6",children:(0,r.jsx)(h,{})})})}},97168:(e,t,s)=>{"use strict";s.d(t,{$:()=>d,r:()=>l});var r=s(95155);s(12115);var a=s(99708),n=s(74466),i=s(53999);let l=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function d(e){let{className:t,variant:s,size:n,asChild:d=!1,...c}=e,o=d?a.DX:"button";return(0,r.jsx)(o,{"data-slot":"button",className:(0,i.cn)(l({variant:s,size:n,className:t})),...c})}},98915:(e,t,s)=>{"use strict";s.d(t,{I:()=>o,db:()=>c,j:()=>d});var r=s(23915),a=s(45404),n=s(35317),i=s(77505);let l=(0,r.Dk)().length?(0,r.Dk)()[0]:(0,r.Wp)({apiKey:"AIzaSyCGuxpFXkRefufWyzwnaudsq8dX2sme3uE",authDomain:"burner-34556.firebaseapp.com",projectId:"burner-34556",storageBucket:"burner-34556.firebasestorage.app",messagingSenderId:"8577865405",appId:"1:8577865405:web:097801380ce0cb013849d4"}),d=(0,a.xI)(l),c=(0,n.aU)(l),o=(0,i.c7)(l)}},e=>{e.O(0,[135,965,72,822,187,441,964,358],()=>e(e.s=77733)),_N_E=e.O()}]);